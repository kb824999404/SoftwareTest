<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>softwareTestTool</title>
    <!--引入vue.js-->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <!-- Favicon -->
    <link rel="icon" href="./assets/img/favicon.png" type="image/png">
    <!--Font-awesome-->
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <style>
        body{
            background-color: rgb(245,252,254); /* 浏览器不支持的时候显示 */
            background-image: linear-gradient(to right, rgb(245,252,254),rgb(143,189,224));
        }
        .el-step__title.is-finish{
            color:rgb(84,193,219);
        }
    </style>
</head>

<body>
<div id="app">

    <el-container>
        <el-header style="height: 5vh">
            <el-row :gutter="20">
                <el-col :span="8">
                    <span style="color:rgb(5,67,134);font-size: 20px;line-height: 5vh">Software Test Tool</span>
                </el-col>
                <el-col :span="16">
                    <!--todo：还没想好放什么-->
                </el-col>
            </el-row>
        </el-header>
        <el-main style="height: 85vh">
            <!--欢迎页面-->
            <el-card class="box-card" style="height: 98%;text-align: center" v-show="mainIsShow">
                <el-row>
                    <el-col :span="10">
                        <!--todo：图片样式待改-->
                        <el-image
                                :src="helloUrl"
                                :fit="fit"
                        >
                        </el-image>
                    </el-col>
                    <el-col :span="14">
                        <h2>
                            Welcome to
                        </h2>
                        <h1 style="color:rgb(5,67,134);font-size: 40px">Software Test Tool</h1>
                        <p style="color: rgb(178,197,216)">
                            Fill basic information,
                            <br/>
                            Choose Java Classes and test cases,
                            <br/>
                            then get results.
                        </p>
                        <el-button type="primary" round @click="mainTo1()" style="background-color: rgb(84,193,219);border-color: rgb(84,193,219)">Get started<i class="el-icon-right el-icon--right"></i></el-button>
                    </el-col>
                </el-row>
            </el-card>
            <!--步骤1-->
            <el-card class="box-card" style="height: 98%;text-align: center" v-show="isShow1">
                step1
                <el-row type="flex" justify="center">
                  <el-col :span="24" style="padding: 20vh; height: 50vh;">
                    <p style="color: rgb(178,197,216)">
                        Select a Java Classes file and upload.
                    </p>
                    <el-upload
                        ref="upload"
                        action="api/uploadClass"
                        :on-remove="handleRemove"
                        :file-list="fileList"
                        :auto-upload="false"
                        :on-success="onUploadSuccess"
                        :limit="1">
                        <!-- <el-button slot="trigger" size="small" type="primary">Select File</el-button> -->
                        <el-button slot="trigger" type="primary" round 
                            style="background-color: rgb(84,193,219);border-color: rgb(84,193,219);width: 140px;">
                            Select File
                        </el-button>
                        <el-button round  type="primary" 
                            style="background-color: white; color: rgb(84,193,219);border-color: rgb(84,193,219);width: 140px;"
                            @click="submitUpload">Upload Class
                        </el-button>
                    </el-upload>
                  </el-col>
                </el-row>
                <el-row type="flex" justify="center" style="margin-top: 5vh;">
                    <el-col :span="24">
                        <el-button type="primary" round @click="mainToWelcome()" 
                            style="background-color: rgb(84,193,219);border-color: rgb(84,193,219); width: 100px;">
                            <i class="el-icon-back el-icon--back"></i>
                            Back
                        </el-button>
                        <el-button type="primary" round @click="mainTo2()" 
                            style="background-color: white; color: rgb(84,193,219);border-color: rgb(84,193,219);width: 100px;">
                            Next
                        <i class="el-icon-right el-icon--right"></i>
                    </el-button>
                    </el-col>
                </el-row>
            </el-card>
            <!--步骤2-->
            <el-card class="box-card" style="height: 98%;text-align: center" v-show="isShow2">
                step2
                <el-row type="flex" justify="center">
                    <el-col :span="24" style="padding: 20vh; height: 50vh;">
                    </el-col>
                  </el-row>
                  <el-row type="flex" justify="center" style="margin-top: 5vh;">
                      <el-col :span="24">
                          <el-button type="primary" round @click="mainTo1()" 
                              style="background-color: rgb(84,193,219);border-color: rgb(84,193,219); width: 100px;">
                              <i class="el-icon-back el-icon--back"></i>
                              Back
                          </el-button>
                          <el-button type="primary" round @click="mainTo3()" 
                              style="background-color: white; color: rgb(84,193,219);border-color: rgb(84,193,219);width: 100px;">
                              Next
                          <i class="el-icon-right el-icon--right"></i>
                      </el-button>
                      </el-col>
                  </el-row>
            </el-card>
            <!--步骤3-->
            <el-card class="box-card" style="height: 98%;text-align: center" v-show="isShow3">
                step3
                <el-row type="flex" justify="center">
                    <el-col :span="24" style="padding: 20vh; height: 50vh;">
                    </el-col>
                  </el-row>
                  <el-row type="flex" justify="center" style="margin-top: 5vh;">
                      <el-col :span="24">
                          <el-button type="primary" round @click="mainTo2()" 
                              style="background-color: rgb(84,193,219);border-color: rgb(84,193,219); width: 100px;">
                              <i class="el-icon-back el-icon--back"></i>
                              Back
                          </el-button>
                          <el-button type="primary" round @click="mainTo4()" 
                              style="background-color: white; color: rgb(84,193,219);border-color: rgb(84,193,219);width: 100px;">
                              Next
                          <i class="el-icon-right el-icon--right"></i>
                      </el-button>
                      </el-col>
                  </el-row>
            </el-card>
            <!--步骤4-->
            <el-card class="box-card" style="height: 98%;text-align: center" v-show="isShow4">
                step4
                <el-row type="flex" justify="center">
                    <el-col :span="24" style="padding: 20vh; height: 50vh;">
                    </el-col>
                  </el-row>
                  <el-row type="flex" justify="center" style="margin-top: 5vh;">
                      <el-col :span="24">
                          <el-button type="primary" round @click="mainTo3()" 
                              style="background-color: rgb(84,193,219);border-color: rgb(84,193,219); width: 100px;">
                              <i class="el-icon-back el-icon--back"></i>
                              Back
                          </el-button>
                          <el-button type="primary" round @click="mainTo4()" 
                              style="background-color: white; color: rgb(84,193,219);border-color: rgb(84,193,219);width: 100px;">
                              Next
                          <i class="el-icon-right el-icon--right"></i>
                      </el-button>
                      </el-col>
                  </el-row>
            </el-card>
        </el-main>
        <el-footer style="height: 5vh">
            <el-steps :active="stepActive" simple>
                <el-step title="welcome" icon="el-icon-s-home"></el-step>
                <el-step title="step1" icon="el-icon-edit-outline"></el-step>
                <el-step title="step2" icon="el-icon-upload"></el-step>
                <el-step title="step3" icon="el-icon-data-analysis"></el-step>
                <el-step title="step4" icon="el-icon-s-data"></el-step>
            </el-steps>
        </el-footer>
    </el-container>

</div>

<script>
    var app = new Vue({
        el: '#app',
        data: {
            helloUrl:"./assets/img/svg/Hello.svg",
            //步骤条切换
            stepActive:0,
            //控制子页面显隐
            mainIsShow:true,
            isShow1:false,
            isShow2:false,
            isShow3:false,
            isShow4:false,
            fileList: []
        },
        methods:{
            mainToWelcome(){
                //显隐切换
                this.mainIsShow = true;
                this.isShow1 = false;
                this.isShow2 = false;
                this.isShow3 = false;
                this.isShow4 = false;
                //步骤条切换
                this.stepActive = 0;
            },
            mainTo1(){
                //显隐切换
                this.mainIsShow = false;
                this.isShow1 = true;
                this.isShow2 = false;
                this.isShow3 = false;
                this.isShow4 = false;
                //步骤条切换
                this.stepActive = 1;
            },
            mainTo2(){
                //显隐切换
                this.mainIsShow = false;
                this.isShow1 = false;
                this.isShow2 = true;
                this.isShow3 = false;
                this.isShow4 = false;
                //步骤条切换
                this.stepActive = 2;
            },
            mainTo3(){
                //显隐切换
                this.mainIsShow = false;
                this.isShow1 = false;
                this.isShow2 = false;
                this.isShow3 = true;
                this.isShow4 = false;
                //步骤条切换
                this.stepActive = 3;
            },
            mainTo4(){
                //显隐切换
                this.mainIsShow = false;
                this.isShow1 = false;
                this.isShow2 = false;
                this.isShow3 = false;
                this.isShow4 = true;
                //步骤条切换
                this.stepActive = 4;
            },
            submitUpload() {
                //上传文件
                this.$refs.upload.submit();
            },
            handleRemove(file, fileList) {
                //移除文件
                console.log(file, fileList);
            },
            onUploadSuccess(response, file, fileList){
                //上传成功
                console.log(response);
                if(response=="success"){
                    this.$message({
                        message: 'Upload class successfully!',
                        type: 'success'
                    });
                }
            }
        }
    })
</script>
</body>

</html>